### 영상 링크
https://www.youtube.com/watch?v=WfrSN9Z7MiA


![객체 지향을 살릴수록 맵핑하기 어렵다..mybatis와 같은 RDB ORM 사용시](/강의정리/pictures/member-team_relation.png)

## JPA? 
- java 진영 ORM 표준
- API 인터페이스만 존재 

## ORM?
- Object-relational mapping(객체 관계 맵핑)
- 객체는 객체대로 설계 , 관계형 데이터베이스는 관계형 데이터베이스대로 설계 
- ORM 프레임워크가 중간에서 맵핑 
  
EJB - 엔티티 빈(자바표준) -> 하이버네이트(오픈소스) -> JPA(자바표준)
EJB 코딩이 지저분함 
로드존스 - 스프링프레임워크 개발, EJB 비판하는 사상 기준으로 만듬 

**JPA 인터페이스이고, 하이버네이트가 구현체로 쓴다.** 

## JPA 왜 사용해야하는가?
- 생산성이 높다 
- 유지보수에 좋다 (하드 코딩 부분이 없어지기 때문에)
- 패러다임 불일치 해결 


기존 DB 조회시, 객체 
**동일한 트랜잭션에서 조회한 엔티티는 같음을 보장** 

JPA 성능 최적회기능 
1. 1차 캐시와 동일성(identity) 보장 (-> 동일 트랜젝션의 경우 1차 캐시 가져옴)
2. 트랜잭션을 지원하는 쓰기 지연(transaction) 
   쿼리 A, 쿼리 B, 쿼리 C -> 네트워크 3번 타고 commit 
   jdbc batch API를 활용하면 A,B,C를 한꺼번에 처리할수 있지만.. 코드가 엄청 로우형태로 짜야한다. 
   하지만!! JPA 옵션을 주면 queue로 쌓아서 한번에 처리가능
3. 지연로딩 과 즉시로딩 
   JPA는 지연로딩을 하기때문에 실제 객체를 사용할때 해당 객체 데이타 가져옴. 쿼리 2번 나간다. -> 즉시로딩으로 설정할수 있다. 
   기존 ORM은 즉시로딩으로 한꺼번에 가져옴
